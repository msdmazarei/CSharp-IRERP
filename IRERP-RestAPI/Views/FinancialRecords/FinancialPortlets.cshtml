@using IRERP_RestAPI.Bases.Extension.HTML;
@using IRERP_RestAPI.Bases.Extension.HTML.Controls;
@using IRERP_RestAPI.Bases.Extension.HTML.Controls.Types;
@using IRERP_RestAPI.Bases;

@{ 
    string Abi = "#0086D0";
    string Sorkh = "#fc4c4c";

    var NamePortlet = IRERP_RestAPI.Bases.Skins.Win8Skin.GetGeneralPortlet(_imgsrc: "/Images/1369215372_user_64.png", _backgroundcolor: "#6f9e10", LaBEL: IRERPApplicationUtilities.GetHtmlString(ApplicationStatics.LoggedUser, x => x.DisplayName, ApplicationStatics.T("DisplayName")),click: new IRERPControlTypes_StringMethods("UserProperty_Click", true));

    var LastDateBuyPortlet = IRERP_RestAPI.Bases.Skins.Win8Skin.GetGeneralPortlet(LaBEL: "تاریخ آخرین خرید:1392.2.23", _imgsrc: "/Images/1369215853_calendar_2.png", _backgroundcolor: "#fc4c4c");
    var TrackingNumberPortlet = IRERP_RestAPI.Bases.Skins.Win8Skin.GetGeneralPortlet(LaBEL: "آخرین شماره پیگیری:545464456", _imgsrc: "/Images/1369215811_credit-cards.png", _backgroundcolor: "#6f9e10");
    var LastServicePortlet = IRERP_RestAPI.Bases.Skins.Win8Skin.GetGeneralPortlet(LaBEL: "هزینه آخرین سرویس:256987", _backgroundcolor: "#fc4c4c", _imgsrc: "/Images/1369215733_money.png");

    var IncreaseCreditPortlet = IRERP_RestAPI.Bases.Skins.Win8Skin.GetGeneralPortlet(LaBEL: "افزایش اعتبار", _backgroundcolor: "#6f9e10", _imgsrc: "/Images/1369215811_credit-cards.png",click : new IRERPControlTypes_StringMethods("CereditBank_Click", true));


    var SearchDate = new IRERP_SM_Portlets()
    {
        width="100%",
       
        members = new IRERPControlBase[]{
            new IRERP_SM_HLayout(){
                width="100%",
                height="*",
                backgroundColor="#fc4c4c",
            members= new IRERPControlBase[]{
                new IRERP_SM_Label(){width="*",height="10"},
            new IRERP_SM_DynamicForm(){
                numCols=4,
                height="100%",
        backgroundColor="#fc4c4c",
                fields=new IRERP_SM_FormItem[]{
                  
                    new IRERP_SM_TextItem(){width=100,title=IRERPApplicationUtilities.GetHtmlLabelString(this, @VirtualPath, "startDate")},
                    new IRERP_SM_TextItem(){width=100,title=IRERPApplicationUtilities.GetHtmlLabelString(this, @VirtualPath, "EndDate")},
                }
            },
            new IRERP_SM_Button(){title=new  IRERPControlTypes_HTMLString("Filter")},
            new IRERP_SM_Label(){width="*",height="10"}
            
            }   }
        },
        showEdges = false,
        showHeader = false,
       backgroundColor = "#0000",
    };
    
    var datasource = new IRERP_SM_Portlets()
    {
        height = "60%",
        width = "100%",
        members = new IRERPControlBase[] { 
             IRERP_RestAPI.Bases.Skins.Win8Skin.GetGeneralListGrid(Datasource: new IRERP_SM_FromString("UsrInvoices",false))
//            new IRERP_SM_FromString(@"
//                isc.ListGrid.create({
//                    ID: ""countryList"",
//                    width:""100%"", height:""100%"",
//bodyBackgroundColor :""#9569e5"",backgroundColor :""#9569e5"",alternateRecordStyles :false,membersMargin :0,baseStyle: ""myOtherGridCell"",
//    canEdit:false,  showHeader :true, 
//    data: Temp,
//    fields:[
//{name:""SHP"",title:""شماره پیگیری""},
//{name:""CreateDate"",title:""تاریخ صدور""},
//{name:""ServiceType"",title:""نوع سرویس""},
//{name:""ServiceTime"",title:""مدت سرویس""},
//{name:""DisCount"",title:""تخفیف""},
//{name:""TotalPrice"",title:""مبلغ کل""},
//{name:""state"",title:""وضعیت""}
//
//]
//
//            })
                   
              // ")
            },
            title = new IRERPControlTypes_HTMLString(" TraficGraf"),
            showEdges = false,
            showHeader = false,
            bodyColor = Abi,
            backgroundColor = Abi
        };

    


    var lbl1 = IRERP_RestAPI.Bases.Skins.Win8Skin.GetGeneralPortlet(
    _backgroundcolor: "#FFFDC5", _heightLabl: "0");

    var _v = ((IRERP_SM_VLayout)lbl1.members[0]);

    _v.members = new IRERPControlBase[] {
           
            new IRERP_SM_Label(){contents=new IRERPControlTypes_HTMLString( IRERPApplicationUtilities.GetHtmlLabelString(this, @VirtualPath, "DescForFinancial")),
                baseStyle="RedlabelTitle" ,align=IRERPControlTypes_Alignment.center,height="10",overflow=IRERPControlTypes_Overflow.visible,width="100%"},
           
            new IRERP_SM_Label(){contents=new IRERPControlTypes_HTMLString("این یک تست است"),baseStyle="Redlabel" ,align=IRERPControlTypes_Alignment.right,
                height="10",overflow=IRERPControlTypes_Overflow.visible,width="100%"},
                        new IRERP_SM_Label(){contents=new IRERPControlTypes_HTMLString("این یک تست است"),baseStyle="Redlabel",align=IRERPControlTypes_Alignment.right,
                            height="10",overflow=IRERPControlTypes_Overflow.visible,width="100%"},
            new IRERP_SM_Label(){contents=new IRERPControlTypes_HTMLString("این یک تست است"),baseStyle="Redlabel", height="10",align=IRERPControlTypes_Alignment.right,
                overflow=IRERPControlTypes_Overflow.visible,width="100%"},
        
        };



    var IMG = IRERP_RestAPI.Bases.Skins.Win8Skin.GetGeneralPortlet(_imgsrc: "/Images/1368975222_Redo.png", LaBEL: IRERPApplicationUtilities.GetHtmlLabelString(this, @VirtualPath, "ReturnToMainPage"));
    IMG.width = "200px";
    IMG.click = new IRERPControlTypes_StringMethods("backtomainpage", true);
         
  

    var portal = IRERP_RestAPI.Bases.Skins.Win8Skin.GetGeneralPortLayout();

  portal.portlets = IRERP_SM_Portlets.GetRow(new IRERP_SM_Portlets()
  {
      Portlets = new IRERPControlBase[]{ 
            IRERP_SM_Portlets.GetRow( NamePortlet, LastDateBuyPortlet,TrackingNumberPortlet,LastServicePortlet,IncreaseCreditPortlet)
,               //SearchDate,
               datasource,
                 IRERP_SM_Portlets.GetRow( IMG, lbl1)
           
                      
         }
  });

    }

@Html.Raw(
portal
)