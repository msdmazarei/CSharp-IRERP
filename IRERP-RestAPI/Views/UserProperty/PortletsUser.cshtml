@using IRERP_RestAPI.Bases.Extension.HTML;
@using IRERP_RestAPI.Bases.Extension.HTML.Controls;
@using IRERP_RestAPI.Bases.Extension.HTML.Controls.Types;
@using IRERP_RestAPI.Bases.Skins;
@using IRERP_RestAPI.Bases;
@{
    string White = "#ffffff";

    var a = new IRERP_SM_VLayout()
    {
        members = new IRERPControlBase[]{
       Win8Skin.GetGeneralLable( 
       IRERPApplicationUtilities.GetHtmlString(ApplicationStatics.LoggedUser,x=>x.LastName,ApplicationStatics.T("lastname"))
       ),
       Win8Skin.GetGeneralLable(
            IRERPApplicationUtilities.GetHtmlString(
                        ApplicationStatics.LoggedUser.UserInformation,x=>x.Tel,ApplicationStatics.T("Tell")
                        )),
                        
          Win8Skin.GetGeneralLable(
               IRERPApplicationUtilities.GetHtmlString(
                   ApplicationStatics.LoggedUser.UserInformation,x=>x.Cell,ApplicationStatics.T("Mobail")
                   )),
                   
        Win8Skin.GetGeneralLable(
                IRERPApplicationUtilities.GetHtmlString(
                     ApplicationStatics.LoggedUser.UserInformation,x=>x.PostalCode,ApplicationStatics.T("CodePosty")
                     )),
                     
         Win8Skin.GetGeneralLable(
             IRERPApplicationUtilities.GetHtmlString( 
                ApplicationStatics.LoggedUser.UserInformation.House,x=>x.BornDate,ApplicationStatics.T("BirthdayDate")
                ))
           }
    };


    var b = new IRERP_SM_VLayout()
    {
        members = new IRERPControlBase[]{
               Win8Skin.GetGeneralLable(
                   IRERPApplicationUtilities.GetHtmlString(
                      ApplicationStatics.LoggedUser,x=>x.FirstName,ApplicationStatics.T("FirstName")
                      )),
                      
                Win8Skin.GetGeneralLable(
                   IRERPApplicationUtilities.GetHtmlString(
                     ApplicationStatics.LoggedUser.UserInformation,x=>x.CustomerTypeTitle.ToString(),ApplicationStatics.T("TypeCustomer")
                     )),
                     
                 Win8Skin.GetGeneralLable(
                    IRERPApplicationUtilities.GetHtmlString(
                       ApplicationStatics.LoggedUser.UserInformation,x=>x.Fax,ApplicationStatics.T("Fax")
                       )),
                       
                    Win8Skin.GetGeneralLable(
                         IRERPApplicationUtilities.GetHtmlString(
                            ApplicationStatics.LoggedUser.UserInformation,x=>x.Address,ApplicationStatics.T("Address")
                            )),
                            
                      Win8Skin.GetGeneralLable(
                          IRERPApplicationUtilities.GetHtmlString(
                             ApplicationStatics.LoggedUser.UserInformation.House,x=>x.GenderTitle,ApplicationStatics.T("Gender")
                             )),
                             
                       Win8Skin.GetGeneralLable(
                          IRERPApplicationUtilities.GetHtmlString(
                            ApplicationStatics.LoggedUser,x=>x.Email,ApplicationStatics.T("Email")
                            ))
                                             }
    };


    var c = new IRERP_SM_HLayout()
    {
        members = new IRERPControlBase[] { b, a }
    };



    var d = new IRERP_SM_HLayout()
    {
        height = "60%",
        width = "100%",
        margin = 10,
        members = new IRERPControlBase[]{c,
                          
       new IRERP_SM_Img(){src="/Images/1369058149_man-24.png",imageType=IRERPControlTypes_imageType.center,height="*",width="20%"}

}
    };


    var ChangePictureDialog = new IRERP_SM_Window()
    {
        height = "20%",
        width = "30%",
        ID = "ChangePictureWindow",
        title = new IRERPControlTypes_HTMLString("test"),
        autoSize = true,
        autoCenter = true,
        isModal = true,
        showModalMask = true,
        autoDraw = false,
        backgroundColor = "#fc4c4c",
        showHeader = false,
        showEdges = false,
        items = new IRERPControlBase[]{ 
        new IRERP_SM_DynamicForm(){
              numCols =2,
            margin=10,
                   height = "100%",
        width = "100%",             
            fields = new IRERP_SM_FormItem[]{
               
                     new IRERP_SM_HeaderItem(){ID="Lbl1", defaultValue=IRERPApplicationUtilities.GetHtmlLabelString(this, @VirtualPath, "DescForChangePic") },
                 
                   new IRERP_SM_UploadItem(){title="name",type= IRERPControlTypes_FormItemType.imageFile}
                 
                   
                  
                 
                  
        }
        
                       
    },
       new IRERP_SM_HLayout()
                   {
                       width="100%",
                       height="100%",
                      
                       members=new IRERPControlBase[]{ 
                            new IRERP_SM_Label(){width="5%"},
                            new IRERP_SM_Button(){ title=new IRERPControlTypes_HTMLString(IRERPApplicationUtilities.GetHtmlLabelString(this, @VirtualPath, "Sabt"))},
                           new IRERP_SM_Label(){width="0%"},
                       new IRERP_SM_Button(){ title=new IRERPControlTypes_HTMLString(IRERPApplicationUtilities.GetHtmlLabelString(this, @VirtualPath, "Return")),
                           click= new IRERPControlTypes_StringMethods(@" ""ChangePicUser_CloseWindow()"" ", true)},
                           new IRERP_SM_Label(){width="5%"}
                      
                       }
                   } 
}


    };
    


    var SendPassDialog = new IRERP_SM_Window()
    {
        height = "20%",
        width = "30%",
        ID = "SendPassWindow",
        title = new IRERPControlTypes_HTMLString("test"),
        autoSize = true,
        autoCenter = true,
        isModal = true,
        showModalMask = true,
        autoDraw = false,
        backgroundColor = "#fc4c4c",
        showHeader = false,
        showEdges = false,
        items = new IRERPControlBase[]{ 
        new IRERP_SM_DynamicForm(){
              numCols =2,
            margin=10,
                   height = "100%",
        width = "100%",             
            fields = new IRERP_SM_FormItem[]{
               
                     new IRERP_SM_HeaderItem(){ID="Lbl1", defaultValue=IRERPApplicationUtilities.GetHtmlLabelString(this, @VirtualPath, "DescForSendPass") },
                  new IRERP_SM_RadioGroupItem(){ type=IRERPControlTypes_FormItemType.radioGroup,  
                       valueMap=new IRERP_SM_FromString(
                       "{\"Email\":\"ایمیل\",\"SMS\":\"پیامک\"}",false)
                   },
                 
                   
                  
                 
                  
        }
        
                       
    },
       new IRERP_SM_HLayout()
                   {
                       width="100%",
                       height="100%",
                      
                       members=new IRERPControlBase[]{ 
                            new IRERP_SM_Label(){width="5%"},
                            new IRERP_SM_Button(){ title=new IRERPControlTypes_HTMLString(IRERPApplicationUtilities.GetHtmlLabelString(this, @VirtualPath, "Sabt"))},
                           new IRERP_SM_Label(){width="0%"},
                       new IRERP_SM_Button(){ title=new IRERPControlTypes_HTMLString(IRERPApplicationUtilities.GetHtmlLabelString(this, @VirtualPath, "Return")),
                           click= new IRERPControlTypes_StringMethods(@" ""SendPassUser_CloseWindow()"" ", true)},
                           new IRERP_SM_Label(){width="5%"}
                      
                       }
                   } 
}


    };
    


    var ChangePassDialog = new IRERP_SM_Window()
    {
        height = "20%",
        width = "30%",
        ID = "ChangePassWindow",
        title = new IRERPControlTypes_HTMLString("test"),
        autoSize = true,
        autoCenter = true,
        isModal = true,
        showModalMask = true,
        autoDraw = false,
        backgroundColor = "#fc4c4c",
        showHeader = false,
        showEdges = false,
        items = new IRERPControlBase[]{ 
        new IRERP_SM_DynamicForm(){
              numCols =2,
            margin=10,
                   height = "100%",
        width = "100%",             
            fields = new IRERP_SM_FormItem[]{
               
                     new IRERP_SM_HeaderItem(){ID="Lbl1", defaultValue=IRERPApplicationUtilities.GetHtmlLabelString(this, @VirtualPath, "DescForChangePass") },
                  new IRERP_SM_TextItem(){title=IRERPApplicationUtilities.GetHtmlLabelString(this, @VirtualPath, "Oldpass")},
                   new IRERP_SM_TextItem(){title=IRERPApplicationUtilities.GetHtmlLabelString(this, @VirtualPath, "newPass")},
                    new IRERP_SM_TextItem(){title=IRERPApplicationUtilities.GetHtmlLabelString(this, @VirtualPath, "RepetNewwPass")}
                   
                  
                 
                  
        }
        
                       
    },
       new IRERP_SM_HLayout()
                   {
                       width="100%",
                       height="100%",
                      
                       members=new IRERPControlBase[]{ 
                            new IRERP_SM_Label(){width="5%"},
                            new IRERP_SM_Button(){ title=new IRERPControlTypes_HTMLString(IRERPApplicationUtilities.GetHtmlLabelString(this, @VirtualPath, "Sabt"))},
                           new IRERP_SM_Label(){width="0%"},
                       new IRERP_SM_Button(){ title=new IRERPControlTypes_HTMLString(IRERPApplicationUtilities.GetHtmlLabelString(this, @VirtualPath, "Return")),
                           click= new IRERPControlTypes_StringMethods(@" ""ChangePassUser_CloseWindow()"" ", true)},
                           new IRERP_SM_Label(){width="5%"}
                      
                       }
                   } }
    };

    
    var zirProfile=
        new IRERP_SM_DynamicForm(){
              numCols =4,
            margin=10,
                   height = "100%",
        width = "100%",             
            fields = new IRERP_SM_FormItem[]{
               
                     new IRERP_SM_HeaderItem(){ID="Lbl1", defaultValue=IRERPApplicationUtilities.GetHtmlLabelString(this, @VirtualPath, "DescForChangeProfile") },
                  new IRERP_SM_TextItem(){defaultValue=IRERPApplicationUtilities.GetHtmlString(
                      ApplicationStatics.LoggedUser,x=>x.FirstName),title=IRERPApplicationUtilities.GetHtmlLabelString(this, @VirtualPath, "FirstName")},
                  
                      new IRERP_SM_TextItem(){defaultValue=IRERPApplicationUtilities.GetHtmlString(
                      ApplicationStatics.LoggedUser,x=>x.LastName),title=IRERPApplicationUtilities.GetHtmlLabelString(this, @VirtualPath, "lastname")},
                      
                  new IRERP_SM_TextItem(){defaultValue=IRERPApplicationUtilities.GetHtmlString(
                      ApplicationStatics.LoggedUser,x=>x.Email),title=IRERPApplicationUtilities.GetHtmlLabelString(this, @VirtualPath, "Email")},
                      
                  new IRERP_SM_TextItem(){defaultValue=IRERPApplicationUtilities.GetHtmlString(
                      ApplicationStatics.LoggedUser.UserInformation,x=>x.CustomerTypeTitle.ToString()),title=IRERPApplicationUtilities.GetHtmlLabelString(this, @VirtualPath, "TypeCustomer")},
                      
                  new IRERP_SM_TextItem(){defaultValue=IRERPApplicationUtilities.GetHtmlString(
                      ApplicationStatics.LoggedUser.UserInformation,x=>x.Tel),title=IRERPApplicationUtilities.GetHtmlLabelString(this, @VirtualPath, "Tell")},
                      
                  new IRERP_SM_TextItem(){defaultValue=IRERPApplicationUtilities.GetHtmlString(
                      ApplicationStatics.LoggedUser.UserInformation,x=>x.Cell),title=IRERPApplicationUtilities.GetHtmlLabelString(this, @VirtualPath, "Mobail")},
                      
                                    new IRERP_SM_TextItem(){defaultValue=IRERPApplicationUtilities.GetHtmlString(
                      ApplicationStatics.LoggedUser.UserInformation,x=>x.Fax),title=IRERPApplicationUtilities.GetHtmlLabelString(this, @VirtualPath, "Fax")},
                      
                  new IRERP_SM_TextItem(){defaultValue=IRERPApplicationUtilities.GetHtmlString(
                      ApplicationStatics.LoggedUser.UserInformation,x=>x.Address),title=IRERPApplicationUtilities.GetHtmlLabelString(this, @VirtualPath, "Address")},
                      
                  new IRERP_SM_TextItem(){defaultValue=IRERPApplicationUtilities.GetHtmlString(
                      ApplicationStatics.LoggedUser.UserInformation,x=>x.PostalCode),title=IRERPApplicationUtilities.GetHtmlLabelString(this, @VirtualPath, "CodePosty")},
                      
                  new IRERP_SM_TextItem(){defaultValue=IRERPApplicationUtilities.GetHtmlString(
                      ApplicationStatics.LoggedUser.UserInformation.House,x=>x.GenderTitle),title=IRERPApplicationUtilities.GetHtmlLabelString(this, @VirtualPath, "Gender")},
                      
                  new IRERP_SM_TextItem(){defaultValue=IRERPApplicationUtilities.GetHtmlString(
                      ApplicationStatics.LoggedUser.UserInformation.House,x=>x.BornDate),title=IRERPApplicationUtilities.GetHtmlLabelString(this, @VirtualPath, "BirthdayDate")},
                  
                      
                      
                      
                      
                   
        }
        }
        ;
    var h = new IRERP_SM_HLayout()
                   {
                       width = "100%",
                       height = "100%",

                       members = new IRERPControlBase[]{ 
                            new IRERP_SM_Label(){width="5%"},
                            new IRERP_SM_Button(){ title=new IRERPControlTypes_HTMLString(IRERPApplicationUtilities.GetHtmlLabelString(this, @VirtualPath, "Sabt"))},
                           new IRERP_SM_Label(){width="0%"},
                       new IRERP_SM_Button(){ title=new IRERPControlTypes_HTMLString(IRERPApplicationUtilities.GetHtmlLabelString(this, @VirtualPath, "Return")),
                           click= new IRERPControlTypes_StringMethods(@" ""ChangeProfileUser_CloseWindow()"" ", true)},
                           new IRERP_SM_Label(){width="5%"}
                      
                       }

                   };


    var zirMadarek = new IRERP_SM_DynamicForm()
    {
        //backgroundColor = "#6f9e10",
        numCols = 2,
        margin = 10,
        height = "100%",
        width = "100%",
        fields = new IRERP_SM_FormItem[]{
               
                     new IRERP_SM_HeaderItem(){ID="Lbl1", defaultValue=IRERPApplicationUtilities.GetHtmlLabelString(this, @VirtualPath, "DescForSendMadarek") },
                  new IRERP_SM_UploadItem(){title=IRERPApplicationUtilities.GetHtmlLabelString(this, @VirtualPath, "Shnasname") ,type= IRERPControlTypes_FormItemType.imageFile},
                  new IRERP_SM_UploadItem(){title=IRERPApplicationUtilities.GetHtmlLabelString(this, @VirtualPath, "KartMeli") ,type= IRERPControlTypes_FormItemType.imageFile},
                  new IRERP_SM_UploadItem(){title=IRERPApplicationUtilities.GetHtmlLabelString(this, @VirtualPath, "kartDaneshjoee") ,type= IRERPControlTypes_FormItemType.imageFile},
                 
                  
                  
        }
        
    }
            ;
    var tabset = new IRERP_SM_TabSet()
    {
        width = "100%",
        height = "300",
        backgroundColor = "#6f9e10",
        tabBarPosition = IRERPControlTypes_Side.top,
        tabBarAlign = IRERPControlTypes_Side.right,
        canEditTabTitles = true,
        titleEditEvent = IRERPControlTypes_TabTitleEditEvent.doubleClick,
        titleEditorTopOffset = 2,
        tabs = new IRERP_SM_Tab[]{
                 new IRERP_SM_Tab{
                
                        title=IRERPApplicationUtilities.GetHtmlLabelString(this, @VirtualPath, "Profile"),
                        pane=new IRERP_SM_VLayout(){  backgroundColor = "#6f9e10",
                            members=new IRERPControlBase[]{
                            zirProfile,h
                            
                        }},
                          height="100%"
                      },
                      
                 new IRERP_SM_Tab{
                     
                        title=IRERPApplicationUtilities.GetHtmlLabelString(this, @VirtualPath, "Madarek"),
                        pane=new IRERP_SM_VLayout(){  backgroundColor = "#6f9e10",
                            members=new IRERPControlBase[]{
                            zirMadarek,h
                            
                        }},
                      
                          height="100%"
                }
    }};


    var EditProfileDialog = new IRERP_SM_Window() { 
    
        height = "30%",
        width = "30%",
        ID = "ChangeProfileWindow",
        title = new IRERPControlTypes_HTMLString("test"),
        autoSize = true,
        autoCenter = true,
        isModal = true,
        showModalMask = true,
        autoDraw = false,
        backgroundColor = "#6f9e10",
        showHeader = false,
        showEdges = false,
        items = new IRERPControlBase[]{ 
  
                    
                    tabset
         
        }};
    var UserInformationPortlet = new IRERP_SM_Portlets()
    {


        height = "50%",
        width = "100%",
        hoverStyle = "portlethover",
        border = "1px solid",
        members = new IRERPControlBase[]{
            new IRERP_SM_HLayout(){
                
                members=new IRERPControlBase[]{
                    new IRERP_SM_Label(){width="10%"},
                      new IRERP_SM_VLayout(){

                          height="100%",width="100%",

                          members= new IRERPControlBase[]{d}
                      } ,
                      
                  new IRERP_SM_Label(){width="10%"}
                }
            }
        },


        showEdges = false,
        showHeader = false,
        backgroundColor = White


    };
    var UserChangePassPortlet =
        Win8Skin.GetGeneralPortlet(LaBEL: IRERPApplicationUtilities.GetHtmlLabelString(this, @VirtualPath, "ChanegPass"),
        _imgsrc: "/Images/rsz_1369058540_lock.png", _backgroundcolor: "#6f9e10", click: new IRERPControlTypes_StringMethods("ChangePassUser_DialgSelectDuration", true));

    var SendSMSPortlet =
  Win8Skin.GetGeneralPortlet(LaBEL: IRERPApplicationUtilities.GetHtmlLabelString(this, @VirtualPath, "SendSMS"),
  _imgsrc: "/Images/1368712758_sms.png", _backgroundcolor: "#6f9e10",click : new IRERPControlTypes_StringMethods("test2", true));

    var FinancialPortlet =
   Win8Skin.GetGeneralPortlet(LaBEL: IRERPApplicationUtilities.GetHtmlLabelString(this, @VirtualPath, "FinancialRecord"),
   _imgsrc: "/Images/1368882168_icontexto-aurora-folders-contacts.png", _backgroundcolor: "#FE6F5E", click: new IRERPControlTypes_StringMethods("FinancialReport_Click", true));
  
  
    var UserSendPassPortlet =
        Win8Skin.GetGeneralPortlet(LaBEL: IRERPApplicationUtilities.GetHtmlLabelString(this, @VirtualPath, "SendPass"), click: new IRERPControlTypes_StringMethods("SendPassUser_DialgSelectDuration", true)
       , _imgsrc: "/Images/rsz_1369058330_forward.png", _backgroundcolor: "#FE6F5E");

    var UserChangePorofilePortlet =
        Win8Skin.GetGeneralPortlet(LaBEL: IRERPApplicationUtilities.GetHtmlLabelString(this, @VirtualPath, "ChangeProfile"), click: new IRERPControlTypes_StringMethods("ChangeProfileUser_DialgSelectDuration", true)
       , _imgsrc: "/Images/rsz_1369058650_user_profile_edit.png", _backgroundcolor: "#0086D0");

    var UserchangephotoPortlet =
        Win8Skin.GetGeneralPortlet(LaBEL: IRERPApplicationUtilities.GetHtmlLabelString(this, @VirtualPath, "ChangePicture"), click: new IRERPControlTypes_StringMethods("ChangePicUser_DialgSelectDuration", true)
       , _imgsrc: "/Images/rsz_1369058428_mb__photo.png", _backgroundcolor: "#fc4c4c");

    var lbl1 = Win8Skin.GetGeneralPortlet(
        _backgroundcolor: "#FFFDC5", _heightLabl: "0");

    var _v = ((IRERP_SM_VLayout)lbl1.members[0]);

    _v.members = new IRERPControlBase[] {
           
            new IRERP_SM_Label(){contents=new IRERPControlTypes_HTMLString( IRERPApplicationUtilities.GetHtmlLabelString(this, @VirtualPath, "DescForUser")),
                baseStyle="RedlabelTitle" ,align=IRERPControlTypes_Alignment.center,height="10",overflow=IRERPControlTypes_Overflow.visible,width="100%"},
           
            new IRERP_SM_Label(){contents=new IRERPControlTypes_HTMLString("این یک تست است"),baseStyle="Redlabel" ,align=IRERPControlTypes_Alignment.right,
                height="10",overflow=IRERPControlTypes_Overflow.visible,width="100%"},
                        new IRERP_SM_Label(){contents=new IRERPControlTypes_HTMLString("این یک تست است"),baseStyle="Redlabel",align=IRERPControlTypes_Alignment.right,
                            height="10",overflow=IRERPControlTypes_Overflow.visible,width="100%"},
            new IRERP_SM_Label(){contents=new IRERPControlTypes_HTMLString("این یک تست است"),baseStyle="Redlabel", height="10",align=IRERPControlTypes_Alignment.right,
                overflow=IRERPControlTypes_Overflow.visible,width="100%"},
        
        };



    var IMG = Win8Skin.GetGeneralPortlet(_imgsrc: "/Images/1368975222_Redo.png", LaBEL: IRERPApplicationUtilities.GetHtmlLabelString(this, @VirtualPath, "ReturnToMainPage"));
    IMG.width = "200px";
    IMG.click = new IRERPControlTypes_StringMethods("backtomainpage", true);


    var portal = Win8Skin.GetGeneralPortLayout();
    portal.portlets = IRERP_SM_Portlets.GetRow(new IRERP_SM_Portlets()
    {
        Portlets = new IRERPControlBase[]{ 
           
         UserInformationPortlet,
             IRERP_SM_Portlets.GetRow( UserChangePassPortlet,UserchangephotoPortlet,UserChangePorofilePortlet,UserSendPassPortlet,SendSMSPortlet,FinancialPortlet),
              IRERP_SM_Portlets.GetRow( IMG, lbl1)
          
           
                      
         }
    });
}
@Html.Raw(ChangePassDialog.ToString())
@Html.Raw("ChangePassWindow.hide();")
@Html.Raw(SendPassDialog.ToString())
@Html.Raw("SendPassWindow.hide();")
@Html.Raw(ChangePictureDialog.ToString())
@Html.Raw("ChangePictureWindow.hide();")

@Html.Raw(EditProfileDialog.ToString())
@Html.Raw("ChangeProfileWindow.hide();")

@Html.Raw(portal)